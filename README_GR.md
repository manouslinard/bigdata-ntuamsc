# Διαχείριση Δεδομένων Μεγάλης Κλίμακας - Ακαδημαϊκό Έτος 2024-2025

## Περιγραφή Εργασίας

Το αποθετήριο αυτό περιέχει την υλοποίηση της εξαμηνιαίας εργασίας για το μάθημα "Διαχείριση Δεδομένων Μεγάλης Κλίμακας" του ΔΠΜΣ Επιστήμη Δεδομένων και Μηχανική Μάθηση του ΕΜΠ. Η εργασία περιλαμβάνει την ανάλυση συνόλων δεδομένων σχετικά με εγκλήματα στο Los Angeles, χρησιμοποιώντας Apache Hadoop και Apache Spark.

## Δομή Αποθετηρίου

Το αποθετήριο οργανώνεται ανά ζητούμενο της εργασίας:

### Ζητούμενο 2 - question2
Μετατροπή των αρχικών δεδομένων και αποθήκευσή τους σε μορφή parquet στο HDFS.

### Ζητούμενο 3 - question3
Υλοποίηση του Query 1 με χρήση RDD και DataFrame APIs (με udf και χωρίς), που αφορά την ταξινόμηση ηλικιακών ομάδων θυμάτων σε περιστατικά βαριάς σωματικής βλάβης.

### Ζητούμενο 4 - question4
Υλοποίηση του Query 2 με χρήση RDD, DataFrame και SQL APIs, που αφορά την εύρεση των 3 Αστυνομικών Τμημάτων με το υψηλότερο ποσοστό κλεισμένων υποθέσεων για κάθε έτος.

### Ζητούμενο 5 - question5
Υλοποίηση του Query 3 με χρήση RDD και DataFrame APIs, που αφορά τον υπολογισμό του μέσου ετήσιου εισοδήματος ανά άτομο για κάθε ZipCode του Los Angeles.

### Ζητούμενο 6 - question6
Υλοποίηση του Query 4 με χρήση DataFrame API, που αφορά τον υπολογισμό του αριθμού εγκλημάτων με εμπλοκή όπλων ανά αστυνομικό τμήμα και της μέσης απόστασης από τα περιστατικά.

## Τεχνολογίες

- Apache Hadoop (version ≥ 3.0)
- Apache Spark (version ≥ 3.5)
- Python

## Εκτέλεση του Κώδικα

Για την εκτέλεση του κώδικα απαιτείται πρόσβαση στην υποδομή του εργαστηρίου που παρέχεται για τις ανάγκες του μαθήματος. Αφού γίνει σύνδεση στο VPN του [cslab](http://www.cslab.ntua.gr/) του ΕΜΠ, και ανάλογο setup βάση των οδηγών στο [repository](https://github.com/ikons/bigdata-dsml) του μαθήματος, χρειάζεται να γίνει upload των αρχείων του παρόντος αποθετηρίου στο HDFS, τρέχοντας το παρακάτω (έστω ότι το repository έγινε clone τοπικά στο home directory ενός UNIX συστήματος):

```
hadoop fs -put ~/bigdata-ntuamsc/ assignment_code
```

Για την εκτέλεση ενός συγκεκριμένου python αρχείου, εκτελείται η εντολή:

```
spark-submit hdfs://hdfs-namenode:9000/user/<username>/assignment_code/<path_to_file>
```

όπου το \<username\> αντικαθήσταται με το όνομα χρήστη και το \<path_to_file\> είναι το path για το αρχείο προς εκτέλεση στην υποδομή του εργαστηρίου.

## Συγγραφέας

Μανούσος Λιναρδάκης, ΑΜ: 03400256

Email: manousoslinardakis@mail.ntua.gr
